function [h,s,v] = hsvRange(file)
%UNTITLED2 Summary of this function goes here
%   Detailed explanation goes here

swingObj = VideoReader(file);
vidWidth = swingObj.Width;
vidHeight = swingObj.Height;
scale = 1/5;
global a b c

a = [0,1];
b = [0,1];
c = [0,1];

%Create a movie structure array, mov.
mov = struct('cdata',zeros(vidHeight*scale,vidWidth*scale,3,'uint8'),...
    'colormap',[]);

hf = figure(3);
set(hf,'position',[10 10 vidWidth/2 vidHeight/2]);
set (hf, 'KeyPressFcn', @(src,eventdata)keyDownListener(src,eventdata));

k = 1;
while hasFrame(swingObj) && ishandle(hf)
    values = readFrame(swingObj);
    d = rgb2hsv(values);
    d = imresize(d,scale);
    mov(k).cdata = uint8(d);
    
    imshow(mov(k).cdata,'InitialMagnification','fit');
    drawnow limitrate
    next = 0;
    while ~next
        
    end
    clc
    k = k + 1
end

h = a;
s = b;
v = c;
end

function keyDownListener(object, eventdata)
    global a b c
    key = eventdata.Key;
    if strcmp(key,'q')
        a(1) = min(0,a(1)-0.01);
    elseif strcmp(key,'w')
        a(2) = max(1,a(2)+0.01);
    elseif strcmp(key,'a')
        b(1) = max(0,b(2)+0.01);
    elseif strcmp(key,'s')
        b(2) = max(1,b(2)+0.01);
    elseif strcmp(key,'z')
        c(1) = max(0,c(2)+0.01);
    elseif strcmp(key,'x')
        c(2) = max(1,c(2)+0.01);
    elseif strcmp(key,'rightarrow')
        
    end
    drawnow('update')
end

function keyUpListener(object, eventdata)
    ENV.doTrain = 0;
end

